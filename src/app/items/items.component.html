<title>{{title}}</title>

<div id="page-preloader" class="preloader" *ngIf="!contentReady">
    <div class="loading-container">
        <div class="my-spinner"></div>
        <div class="my-spinner-center"></div>
        <div class="loading-text">
            <div class="cssload-preloader">
                <span>L</span>
                <span>o</span>
                <span>a</span>
                <span>d</span>
                <span>i</span>
                <span>n</span>
                <span>g</span>
                <span>.</span>
                <span>.</span>
                <span>.</span>
            </div>
        </div>
    </div>
</div>

<clr-vertical-nav class="clr-offset-md-5 clr-offset-sm-4 clr-offset-3" *ngIf="contentReady">
    <a class="text-center" clrVerticalNavLink routerLink="../all" routerLinkActive="active">Все категории</a>
    <a class="text-center" clrVerticalNavLink *ngFor="let cat of categories" routerLink="../{{cat.label}}" routerLinkActive="active">{{cat.name}}</a>
</clr-vertical-nav>

<form class="search clr-col" *ngIf="contentReady">
    <label for="search_input">
      <app-search-field [(searchQuery)]="searchField" (keyup)="search()"></app-search-field>
    </label>
</form>
<clr-datagrid class="clr-col" *ngIf="contentReady">
    <clr-dg-placeholder>Увы! Запрашиваемый контент не найден :(</clr-dg-placeholder>
    <clr-dg-column>
        <ng-container *clrDgHideableColumn="{hidden: false}">Название</ng-container>
    </clr-dg-column>
    <clr-dg-column>
        <ng-container *clrDgHideableColumn="{hidden: false}">Номер</ng-container>
    </clr-dg-column>
    <clr-dg-column>
        <ng-container *clrDgHideableColumn="{hidden: false}">Тип</ng-container>
    </clr-dg-column>
    <clr-dg-column>
        <ng-container *clrDgHideableColumn="{hidden: false}">Сотрудник</ng-container>
    </clr-dg-column>
    <clr-dg-column>
        <ng-container *clrDgHideableColumn="{hidden: false}">Дата присвоения единицы</ng-container>
    </clr-dg-column>
    <clr-dg-column>
        <ng-container *clrDgHideableColumn="{hidden: false}">Состояние</ng-container>
    </clr-dg-column>
    <clr-dg-row *clrDgItems="let item of items">
        <clr-dg-action-overflow>
            <button class="action-item" (click)="onEdit(user)">Изменить</button>
            <button class="action-item" (click)="onDelete(user)">Удалить</button>
        </clr-dg-action-overflow>
        <clr-dg-cell><a routerLink="/item/{{item.id}}">{{item.name}}</a></clr-dg-cell>
        <clr-dg-cell>{{item.serNumber}}</clr-dg-cell>
        <clr-dg-cell>{{item.type}}</clr-dg-cell>
        <clr-dg-cell><a routerLink="/employee/{{item.emp.id}}">{{item.emp.fio}}</a></clr-dg-cell>
        <clr-dg-cell>{{item.date}}</clr-dg-cell>
        <clr-dg-cell>{{item.status}}</clr-dg-cell>
    </clr-dg-row>
    <clr-dg-footer>
        <clr-dg-column-toggle>
            <clr-dg-column-toggle-title>Столбцы</clr-dg-column-toggle-title>
            <clr-dg-column-toggle-button>Показать все</clr-dg-column-toggle-button>
        </clr-dg-column-toggle>
        <clr-dg-pagination #pagination [clrDgPageSize]="5">
            <clr-dg-page-size [clrPageSizeOptions]="[1,2,5,10]">Единиц на странице</clr-dg-page-size>
            с {{pagination.firstItem + 1}} по {{pagination.lastItem + 1}} из {{pagination.totalItems}} всего
        </clr-dg-pagination>
    </clr-dg-footer>
</clr-datagrid>